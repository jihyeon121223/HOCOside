<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="src/styles/style.css">
    <title>Words Counter</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RXWQH60SPY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-RXWQH60SPY');
    </script>
</head>

<body class="bg-gray-100">

    <!-- 상단 고정 메뉴 바 -->
    <nav class="bg-gray-800 text-white py-4 fixed top-0 w-full shadow-md z-10">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex space-x-6">
                <!-- 노트 인덱스 스타일 메뉴 -->
                <a href="#" onclick="showSection('extract')" class="hover:text-sky-400">분석기</a>
                <!-- <a href="#" onclick="showSection('ranking')" class="hover:text-sky-400">랭킹</a> -->
            </div>
            <div class="text-xl font-bold tracking-wider">
                단어 빈도 분석기
            </div>
        </div>
    </nav>

    <!-- 페이지 컨텐츠 -->
    <div class="pt-20"> <!-- 고정 메뉴로 인한 상단 여백을 위한 패딩 추가 -->
        <header class="text-center mb-6">
            <!-- <h1 class="text-3xl font-bold text-gray-800 mb-6">단어 착즙기</h1> -->
            <p class="text-gray-600">텍스트를 입력하거나 파일을 업로드하여 단어 수를 확인하세요.</p>
            <p class="text-gray-400 text-sm mt-2">예시: 카카오톡 대화 내보내기 파일.txt을 업로드하거나 복사하여 붙여넣기 하세요.</p>
        </header>
    
        <!-- 1. 분석기 섹션, 같은 페이지에서 전환1-->
        <main id="extract" class="container mx-auto p-6 max-w-lg" style="display: block;">
            <section class="mb-8">
                <h2 class="text-xl font-semibold text-gray-800 mb-2">텍스트 입력</h2>
                <textarea id="textInput" rows="6" class="w-full p-3 border border-gray-300 rounded" placeholder="여기에 텍스트 입력"></textarea>
                <div id="wordCount" class="text-right text-gray-600 mt-2">0 단어</div>
            </section>
            
            <!-- 텍스트 파일 업로드 -->
            <section class="mb-8">
                <h2 class="text-xl font-semibold text-gray-800 mb-2">파일 업로드</h2>
                <input type="file" id="fileInput" class="w-full p-2 border border-gray-300 rounded" accept=".txt">
            </section>

            <!-- 제출 버튼 -->
            <div class="mb-6">
                <button onclick="extractWords()" class="bg-sky-700 px-4 py-2 text-white hover:bg-sky-800 w-full rounded-md">제출</button>
            </div>

            <!-- 진행 바 -->
            <div id="progressBar" class="w-full h-2 bg-gray-200 rounded-full mb-6" style="display: none;">
                <div id="progress" class="h-full bg-yellow-500 rounded-full" style="width: 0;"></div>
            </div>

            <!-- 결과 출력 -->
            <div id="results" class="p-4 border border-gray-300 rounded-lg shadow-sm">
                <h2 class="text-xl font-semibold text-gray-800">단어 빈도</h2>
                <div id="rankingResults" class="p-4 border border-gray-300 rounded-lg shadow-sm">
                    <ul id="wordsList" class="list-disc list-inside mt-2 text-gray-600"></ul>
                </div>
            </div>

            <!-- 랭킹 저장 버튼 -->
            <div id="saveRankingButton" class="mb-6" style="display: none;">
                <button id="rankingButton" onclick="saveRanking()" class="bg-green-600 px-4 py-2 text-white hover:bg-green-700 w-full rounded-md">
                    랭킹 저장
                </button>
            </div>

        </main>

        <!-- 2. 랭킹 섹션, 같은 페이지에서 전환2 -->
        <main id="ranking" style="display: none;" class="container mx-auto p-6 max-w-lg">
            <section class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">단어 랭킹</h2>
        
                <!-- 단어 빈도 결과를 보여줄 div -->
                <div id="wordFrequencyResults" class="mt-4"></div>

                <!-- 랭킹 리스트 -->
                <ul id="rankingList" class="divide-y divide-gray-200">
                    <!--JS-->
                </ul>
        
                <!-- 페이지네이션 -->
                <div class="mt-6 flex justify-center space-x-2">
                    <button class="bg-gray-300 text-gray-700 px-3 py-1 rounded-md hover:bg-gray-400" onclick="prevPage()">이전</button>
                    <button class="bg-gray-300 text-gray-700 px-3 py-1 rounded-md hover:bg-gray-400" onclick="nextPage()">다음</button>
                </div>
            </section>
        </main>

        <!-- 플로팅 액션 버튼 -->
        <button id="resetButton" class="fab fixed bottom-10 right-10 bg-yellow-500 text-white text-lg rounded-full w-20 h-20 shadow-lg hover:bg-yellow-600">Reset</button>

        <footer class="mt-10 text-gray-600">Contact us: yjh121223@gmail.com</footer>

    </div>

    <!-- JS 파일 연결 -->
    <script src="./src/main.js"></script>

</body>

</html>
